(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-392e3445"],{"0063":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(t,e,s){this.width=0,this.height=0,this.context=t,this.width=e,this.height=s}draw(){this.context.fillStyle="#ffffff",this.context.fillRect(0,0,this.width,this.height)}}},"0b30":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{static div(t,e){return(t-t%e)/e}static randomIntByInterval(t,e){return Math.floor(t+Math.random()*(e+1-t))}static getDistance(t,e,s,i){return Math.sqrt(Math.pow(e-t,2)+Math.pow(i-s,2))}static createMatrix(t,e){const s=[];while(e--)s.push(new Array(t).fill(0));return s}static getMouseCoordinates(t){const e=t.target&&t.target.getBoundingClientRect(),s=t.clientX-e.left,i=t.clientY-e.top;return{x:s,y:i}}static loadImage(t){return new Promise((e,s)=>{const i=new Image;i.onload=()=>{e(i)},i.onerror=s,i.src=t})}static drawImageOnCanvas(t,e,s,i,r){this.loadImage("./tank.png").then(h=>{t.drawImage(h,e,s,i,r)}).catch(t=>{console.error("Error: in the method drawImageOnCanvas loading went wrong",t)})}static checkCollisionRectOfCircle(t,e){return t.x<e.x+e.getRadius&&t.x+t.getWidth>e.x-e.getRadius&&t.y<e.y+e.getRadius&&t.y+t.getHeight>e.y-e.getRadius}static checkCollisionRectOfRect(t,e){return t.x<e.x+e.getWidth&&t.x+t.getWidth>e.x&&t.y<e.y+e.getHeight&&t.y+t.getHeight>e.y}static applyMixins(t,e){e.forEach(e=>{Object.getOwnPropertyNames(e.prototype).forEach(s=>{t.prototype[s]=e.prototype[s]})})}}},"0d54":function(t,e,s){"use strict";s.d(e,"a",(function(){return n}));var i=s("fe79"),r=s("50aa"),h=s("b694");class n extends i["a"]{constructor(t,e,s,i,n){super(e,s,i,n),this.context=t,this.velocity=new h["a"](r["k"].MIDDLE,r["k"].SLOW)}draw(){this.context.fillStyle="#089080",this.context.beginPath(),this.context.fillRect(this.x,this.y,this.width,this.height),this.context.closePath()}reset(){this.x=0,this.y=0,this.velocity.reset()}moveTo(t){t===r["h"].RIGHT&&(this.x+=this.velocity.getX),t===r["h"].LEFT&&(this.x-=this.velocity.getX),t===r["h"].UP&&(this.y-=this.velocity.getY),t===r["h"].DOWN&&(this.y+=this.velocity.getY)}get getVelocityX(){return this.velocity.getX}set setVelocityX(t){this.velocity.setX=t}get getVelocityY(){return this.velocity.getY}set setVelocityY(t){this.velocity.setY=t}}},2914:function(t,e,s){"use strict";var i=s("b8e3");class r extends i["a"]{constructor(t,e,s){super(t,e),this.radius=0,this.radius=s}get getRadius(){return this.radius}set setRadius(t){this.radius=t}}s.d(e,"a",(function(){return h}));class h extends r{constructor(t,e,s,i,r){super(e,s,i),this.context=t,this.velocity=r}draw(){this.context.fillStyle="#734686",this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.context.fill(),this.context.closePath()}reset(){this.x=0,this.y=0,this.velocity.reset()}move(){this.x+=this.velocity.getX,this.y+=this.velocity.getY}invertVelocityX(){this.velocity.invertX()}invertVelocityY(){this.velocity.invertY()}get getVelocity(){return this.velocity}get getVelocityX(){return this.velocity.getX}set setVelocityX(t){this.velocity.setX=t}get getVelocityY(){return this.velocity.getY}set setVelocityY(t){this.velocity.setY=t}}},"50aa":function(t,e,s){"use strict";var i,r,h,n,o,a,c,l,u,g,d;s.d(e,"h",(function(){return i})),s.d(e,"j",(function(){return r})),s.d(e,"g",(function(){return h})),s.d(e,"b",(function(){return n})),s.d(e,"d",(function(){return o})),s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return c})),s.d(e,"f",(function(){return l})),s.d(e,"e",(function(){return u})),s.d(e,"i",(function(){return g})),s.d(e,"k",(function(){return d})),function(t){t[t["LEFT"]=37]="LEFT",t[t["RIGHT"]=39]="RIGHT",t[t["UP"]=38]="UP",t[t["DOWN"]=40]="DOWN"}(i||(i={})),function(t){t[t["START"]=0]="START",t[t["PLAY"]=1]="PLAY",t[t["OVER"]=2]="OVER"}(r||(r={})),function(t){t[t["RESTART"]=82]="RESTART",t[t["Q"]=81]="Q",t[t["W"]=87]="W",t[t["SPACE"]=32]="SPACE"}(h||(h={})),function(t){t[t["WIDTH"]=800]="WIDTH",t[t["HEIGHT"]=400]="HEIGHT"}(n||(n={})),function(t){t[t["WIDTH"]=640]="WIDTH",t[t["HEIGHT"]=640]="HEIGHT",t[t["SCALE_COEFFICIENT"]=20]="SCALE_COEFFICIENT"}(o||(o={})),function(t){t[t["WIDTH"]=800]="WIDTH",t[t["HEIGHT"]=720]="HEIGHT"}(a||(a={})),function(t){t[t["WIDTH"]=800]="WIDTH",t[t["HEIGHT"]=600]="HEIGHT"}(c||(c={})),function(t){t[t["WIDTH"]=450]="WIDTH",t[t["HEIGHT"]=450]="HEIGHT"}(l||(l={})),function(t){t[t["WIDTH"]=320]="WIDTH",t[t["HEIGHT"]=540]="HEIGHT",t[t["SCALE_COEFFICIENT"]=20]="SCALE_COEFFICIENT"}(u||(u={})),function(t){t[t["FIRST"]=0]="FIRST",t[t["SECOND"]=1]="SECOND",t[t["AI"]=2]="AI"}(g||(g={})),function(t){t[t["SLOW"]=8]="SLOW",t[t["MIDDLE"]=14]="MIDDLE",t[t["FAST"]=20]="FAST"}(d||(d={}))},"679d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pong"},[s("Scores",{attrs:{scores:t.getScores}}),s("canvas",{ref:"game"}),s("button",{staticClass:"btn-outline btn-outline--restart",attrs:{type:"button"},on:{click:function(e){return t.restart()}}},[t._v("Restart")])],1)},r=[],h=s("9ab4"),n=s("65d9"),o=s.n(n),a=s("50aa"),c=s("0063"),l=s("2914"),u=s("87fe"),g=s("0d54"),d=s("b694"),v=s("7cc2"),y=s("b6ab"),f=s("0b30");let p=class extends(Object(n["mixins"])(v["a"])){constructor(){super(),this.loop=0,this.paddles=[],this.scores=[],this.firstPlayer=new u["a"],this.aiPlayer=new u["a"]}run(){!1!==this._initInstance()&&this.start()}update(){this.board.draw(),this._checkState(),this.ball.move(),this.ball.draw(),this._movePaddleForBall(this.paddles[1]),this.paddles.forEach(t=>{t.draw()})}start(){this.update(),this.isOver||(this.loop=requestAnimationFrame(this.start))}stop(){this.loop&&(cancelAnimationFrame(this.loop),this.globalState=a["j"].OVER,this.canvas.removeEventListener("mousemove",this.mousemoveListener))}restart(){this._reset(),this.run()}mounted(){this.run()}get getScores(){return this.scores=[{message:"First player",value:this.getFirstPlayerScore},{message:"AI",value:this.getAiScore}],this.scores}get getFirstPlayerScore(){return this.firstPlayer.getScore}get getAiScore(){return this.aiPlayer.getScore}_reset(){this.stop(),this.ball.reset(),this.paddles.length=0}_initInstance(){if(!1===this.isInitCanvas&&!1===this._initCanvas(a["b"].WIDTH,a["b"].HEIGHT))return!1;this.mousemoveListener=t=>{this._handleMouseMove(t)},this.canvas.addEventListener("mousemove",this.mousemoveListener),this.globalState=a["j"].PLAY;const t=20,e=120,s=15,i=this.width-t-15,r=this.height/2-e/2;return this.paddles.push(new g["a"](this.context,s,r,t,e)),this.paddles.push(new g["a"](this.context,i,r,t,e)),this.board=new c["a"](this.context,this.width,this.height),this.ball=new l["a"](this.context,this.width/2,this.height/2,8,new d["a"](5,-4)),!0}_movePaddleForBall(t){t.y=this.ball.y-t.getHeight/2,t.y<0&&(t.y=0),t.y+t.getHeight>this.height&&(t.y=this.height-t.getHeight)}_moveBallToStartPosition(){this.ball.x=this.width/2,this.ball.y=this.height/2}_checkCollisionBallOfBorder(){const t=this.ball.getRadius;this.ball.x-t<0&&(this.aiPlayer.addScore(1),this._moveBallToStartPosition()),this.ball.x+t>this.width&&(this.firstPlayer.addScore(1),this._moveBallToStartPosition()),(this.ball.y+this.ball.getVelocityY>this.height-t||this.ball.y+this.ball.getVelocityY<t)&&this.ball.invertVelocityY()}_checkCollisionBallOfPaddles(){this.paddles.forEach(t=>{f["a"].checkCollisionRectOfCircle(t,this.ball)&&(this.ball.getVelocity.increase(1.02),this.ball.invertVelocityX())})}_checkState(){this._checkCollisionBallOfBorder(),this._checkCollisionBallOfPaddles()}_handleMouseMove(t){this.paddles[0].y=t.offsetY-this.paddles[0].getHeight/2,this.paddles[0].y<0&&(this.paddles[0].y=0),this.paddles[0].y+this.paddles[0].getHeight>this.height&&(this.paddles[0].y=this.height-this.paddles[0].getHeight)}};p=Object(h["a"])([o()({components:{Scores:y["a"]}})],p);var b=p,x=b,I=s("2877"),S=Object(I["a"])(x,i,r,!1,null,null,null);e["default"]=S.exports},"7cc2":function(t,e,s){"use strict";var i=s("9ab4"),r=s("60a3"),h=s("50aa");class n{constructor(t,e,s){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.canvas.width=e,this.canvas.height=s,this.canvas.setAttribute("tabindex","1"),this.canvas.focus()}addEventListener(t,e){this.canvas.addEventListener(t,e)}removeEventListener(t,e){this.canvas.removeEventListener(t,e)}get context(){return this.ctx}}let o=class extends r["c"]{constructor(){super(...arguments),this.canvas=null,this.width=0,this.height=0,this.globalState=h["j"].START,this.isInitCanvas=!1,this.message="",this.styleOfMessage=""}_initCanvas(t,e){return!!this.$refs.game&&(this.width=t,this.height=e,this.canvas=new n(this.$refs.game,t,e),this.context=this.canvas.context,this.isInitCanvas=!0,!0)}clearContext(){this.isInitCanvas&&(this.context.save(),this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.width,this.height),this.context.restore())}get isOver(){return this.globalState===h["j"].OVER}get getMessage(){return this.message}get getStyleOfMessage(){return this.styleOfMessage}get isMessage(){return this.isOver&&""!==this.message}_resetMessage(){this.message="",this.styleOfMessage=""}_setMessage(t,e){this.message=t,this.styleOfMessage=e}};o=Object(i["a"])([r["a"]],o);e["a"]=o},"87fe":function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("b049");class r{constructor(t="default name",e=3){this.name="",this.lives=0,this.score=new i["a"],this.name=t,this.lives=e}addLive(t){this.lives+=t}subtractLive(t){t<0&&(t=Math.abs(t)),this.lives-t<0||(this.lives-=t)}addScore(t){this.score.increase(t)}subtractScore(t){this.score.decrease(t)}scoreToZero(){this.score.reset()}get getLives(){return this.lives}get getName(){return this.name}get getScore(){return this.score.getScore}get getPreviousScore(){return this.score.getPreviousScore}get getBest(){return this.score.getBest}}},b049:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(){this.previousScore=0,this.score=0,this.best=0}increase(t){t=Math.abs(t),this.score+=t,this._updatePreviousScore(),this._updateBest()}decrease(t){t<0&&(t=Math.abs(t)),this.score-t<0||(this.score-=t,this._updatePreviousScore())}reset(){this.score=0}get getScore(){return this.score}get getPreviousScore(){return this.previousScore}get getBest(){return this.best}_updatePreviousScore(){this.previousScore=this.score}_updateBest(){this.score>this.best&&(this.best=this.score)}}},b694:function(t,e,s){"use strict";class i{constructor(t,e){this.x=0,this.y=0,this.set(t,e)}invertX(){this.x=-this.x}invertY(){this.y=-this.y}set(t,e){this.x=t,this.y=e}}s.d(e,"a",(function(){return r}));class r extends i{constructor(t,e){super(t,e)}increase(t){this.x*=t,this.y*=t}reset(){this.set(0,0)}get getX(){return this.x}set setX(t){this.x=t}get getY(){return this.y}set setY(t){this.y=t}}},b6ab:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"scores"},t._l(t.scores,(function(e,i){return s("p",{key:i,staticClass:"scores__p",class:t.colors[i]},[t._v("\n    "+t._s(e.message)+" - "+t._s(e.value)+"\n  ")])})),0)},r=[],h=s("9ab4"),n=s("60a3");let o=class extends n["c"]{constructor(){super(...arguments),this.colors=["scores--color-scarlet","scores--color-turquoise","scores--color-light-blue"]}};Object(h["a"])([Object(n["b"])({default:[]})],o.prototype,"scores",void 0),o=Object(h["a"])([n["a"]],o);var a=o,c=a,l=s("2877"),u=Object(l["a"])(c,i,r,!1,null,null,null);e["a"]=u.exports},b8e3:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));class i{constructor(t,e){this.posX=0,this.posY=0,this.posX=t,this.posY=e}setPos(t,e){this.posX=t,this.posY=e}get x(){return this.posX}set x(t){this.posX=t}get y(){return this.posY}set y(t){this.posY=t}}},fe79:function(t,e,s){"use strict";s.d(e,"a",(function(){return r}));var i=s("b8e3");class r extends i["a"]{constructor(t,e,s,i){super(t,e),this.width=0,this.height=0,this.width=s,this.height=i}get getWidth(){return this.width}set setWidth(t){this.width=t}get getHeight(){return this.height}set setHeight(t){this.height=t}}}}]);
//# sourceMappingURL=chunk-392e3445.e423bf28.js.map